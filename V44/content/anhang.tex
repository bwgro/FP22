\section{Anhang}

\begin{python}
    import numpy as np
    import matplotlib.pyplot as plt

    def parratt(a_i, delta_1, delta_2, sigma_1, sigma_2, d_2, b_1, b_2):
        n_2 = 1.0 - delta_1 +b_1
        n_3 = 1.0 - delta_2 + b_2
        a_i = np.deg2rad(a_i)
        k = 2 * np.pi / wl
        kd_1 = k * np.sqrt(n_1 ** 2 - np.cos(a_i) ** 2)
        kd_2 = k * np.sqrt(n_2 ** 2 - np.cos(a_i) ** 2)
        kd_3 = k * np.sqrt(n_3 ** 2 - np.cos(a_i) ** 2)
        
        r_12 = (kd_1 - kd_2) / (kd_1 + kd_2) * np.exp(-2 * kd_1 * kd_2 * sigma_1 ** 2)
        r_23 = (kd_2 - kd_3) / (kd_2 + kd_3) * np.exp(-2 * kd_2 * kd_3 * sigma_2 ** 2)

        x_2 = np.exp(-2j * kd_2 * d_2) * r_23
        x_1 = (r_12 + x_2) / (1 + r_12 * x_2)

        return np.abs(x_1) **2

    #Import Messwerte
    ref_x, ref_y = np.genfromtxt('Messwerte/omega_tet.txt', unpack=True)
    diff_x, diff_y = np.genfromtxt('Messwerte/diffusor.txt' , unpack=True)

    #Reflektivit채t
    I_0 = 1114508.0792544584
    R_ref = ref_y / (5 * I_0)
    R_diff = diff_y / (5 * I_0)
    R= R_ref - R_diff

    #Parratt Parameter
    n_1 = 1.0               #Brechungsindex Luft
    d_1 = 0.0               #Schichtdicke Luft
    d_2 = 1.7 * 10 ** (-6) #Schichtdicke der Porbe
    wl = 1.54e-10           #Wellenl채nge

    delta_1 = 7 * 10 ** (-7)
    delta_2 = 7 * 10 ** (-6)
    sigma_1 = 5.5 * 10 ** (-10) 
    sigma_2 = 6.45 *10 ** (-10)
    b_1 = (delta_1 / 200) * 1j
    b_2 = (delta_2/ 40) * 1j


    print(delta_1, delta_2, sigma_1, sigma_2, d_2, b_1, b_2)
    par = parratt(ref_x, delta_1, delta_2, sigma_1, sigma_2, d_2, b_1, b_2)


    #Kritischer Winkel
    a_Poly = np.rad2deg(np.sqrt(2 * delta_1))
    a_Si = np.rad2deg(np.sqrt(2 * delta_2))
    print('Kritischer Winkel Polys:', a_Poly)
    print('Kritischer Winkel Silicium: ', a_Si)

    #Plot
    plt.plot(ref_x, R, '-', label = 'Reflektivit채t mit Geometriefaktor')
    plt.plot(ref_x, par, '-', label = 'Parratt-Kurve')
    plt.xlabel('\u03B1 / 째')
    plt.ylabel('R')
    plt.yscale('log')
    plt.grid()
    plt.legend()
    plt.savefig('Graphen/Parrat_Algorthmus.pdf')
\end{python}
